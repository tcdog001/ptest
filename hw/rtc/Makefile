
include $(STB_ROOT)/config.mak

LIBOUT = $(STB_ROOT)/lib/slib/librtc.a
DLIBOUT = $(STB_ROOT)/lib/dlib/librtc.so

OBJS = rtc.o

#I2CFLAGS = -DHI_DAC_CVBS=3 -DHI_DAC_YPBPR_Y=1 -DHI_DAC_YPBPR_PB=0 -DHI_DAC_YPBPR_PR=2 -DHI_SND_MUTECTL_GPIO=0x39 -DHI_SCI_CLK_MODE=0 -DHI_SCI_VCCEN_MODE=1 -DHI_SCI_RESET_MODE=0 -DHI_SCI_VCCEN_LEVEL=0 -DHI_SCI_DETECT_LEVEL=1 -DHI_TSI_port_NUMBER=4 -DHI_TSO_PORT_NUMBER=2 -DHI_IF0_TYPE=2 -DHI_IF0_BIT_SELECTOR=0 -DHI_TSI0_TYPE=2 -DHI_TSI0_BIT_SELECTOR=0 -DHI_TSI1_TYPE=2 -DHI_TSI1_BIT_SELECTOR=0 -DHI_TSI2_TYPE=2 -DHI_TSI2_BIT_SELECTOR=0 -DHI_TSI3_TYPE=2 -DHI_TSI3_BIT_SELECTOR=0 -DHI_TSI4_TYPE=2 -DHI_TSI4_BIT_SELECTOR=0 -DHI_TSI5_BIT_SELECTOR=0 -DHI_TSO0_CLK=0 -DHI_TSO0_CLK_MODE=0 -DHI_TSO0_VALID_MODE=0 -DHI_TSO0_SERIAL=1 -DHI_TSO0_BIT_SELECTOR=0 -DHI_TSO1_CLK=0 -DHI_TSO1_CLK_MODE=0 -DHI_TSO1_VALID_MODE=0 -DHI_TSO1_SERIAL=1 -DHI_TSO1_BIT_SELECTOR=0 -DHI_TUNER_NUMBER=1 -DHI_TUNER0_ID=0 -DHI_TUNER_SIGNAL_TYPE=0 -DHI_TUNER_TYPE=17 -DHI_TUNER_DEV_ADDR=0xc0 -DHI_DEMOD_TYPE=256 -DHI_DEMOD_DEV_ADDR=0xa0 -DHI_DEMOD_TS_MODE=1 -DHI_DEMOD_I2C_CHANNEL=5 -DHI_DEMOD_RESET_GPIO=0x1 -DHI_DEMUX_PORT=0 -DHI_DEMOD_REF_CLOCK=24000 -DHI_TUNER_MAX_LPF=34 -DHI_TUNER_I2C_CLOCK=400 -DHI_LNBCTRL_DEV_ADDR=0x0 -DHI_TUNER1_ID=1 -DHI_TUNER1_SIGNAL_TYPE=0 -DHI_TUNER1_TYPE=4 -DHI_TUNER1_DEV_ADDR=0xc0 -DHI_DEMOD1_TYPE=256 -DHI_DEMOD1_DEV_ADDR=0xa0 -DHI_DEMOD1_TS_MODE=1 -DHI_DEMOD1_I2C_CHANNEL=3 -DHI_DEMOD1_RESET_GPIO=0x1 -DHI_DEMUX1_PORT=5 -DHI_DEMOD1_REF_CLOCK=24000 -DHI_TUNER1_MAX_LPF=34 -DHI_TUNER1_I2C_CLOCK=400 -DHI_LNBCTRL1_DEV_ADDR=0x0 -DHI_TUNER2_ID=2 -DHI_TUNER2_SIGNAL_TYPE=0 -DHI_TUNER2_TYPE=4 -DHI_TUNER2_DEV_ADDR=0xc0 -DHI_DEMOD2_TYPE=256 -DHI_DEMOD2_DEV_ADDR=0xa0 -DHI_DEMOD2_TS_MODE=1 -DHI_DEMOD2_I2C_CHANNEL=5 -DHI_DEMOD2_RESET_GPIO=0x0 -DHI_DEMUX2_PORT=0 -DHI_DEMOD2_REF_CLOCK=24000 -DHI_TUNER2_MAX_LPF=34 -DHI_TUNER2_I2C_CLOCK=400 -DHI_LNBCTRL2_DEV_ADDR=0x0 -DHI_TUNER3_ID=3 -DHI_TUNER3_SIGNAL_TYPE=0 -DHI_TUNER3_TYPE=4 -DHI_TUNER3_DEV_ADDR=0xc0 -DHI_DEMOD3_TYPE=256 -DHI_DEMOD3_DEV_ADDR=0xa0 -DHI_DEMOD3_TS_MODE=1 -DHI_DEMOD3_I2C_CHANNEL=5 -DHI_DEMOD3_RESET_GPIO=0x0 -DHI_DEMUX3_PORT=0 -DHI_DEMOD3_REF_CLOCK=24000 -DHI_TUNER3_MAX_LPF=34 -DHI_TUNER3_I2C_CLOCK=400 -DHI_LNBCTRL3_DEV_ADDR=0x0

%.o: %.c
	@$(CC) $(CFLAGS) $(SYS_INCLUDE) $(APP_INCLUDE) -c -o $@ $<

$(LIBOUT): $(OBJS) 
	@echo "Linking $(LIBOUT)......"	
	@$(AR) $(ARFLAGS) -o $(LIBOUT) $(OBJS)
	@echo "Linking Success!"	                                              
clean:
	$(RM) *.o *.bak $(LIBOUT) $(OBJS)
